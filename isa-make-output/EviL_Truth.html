<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>Theory EviL_Truth (Isabelle2009-1: December 2009)</title>
<link media="all" rel="stylesheet" type="text/css" href="isabelle.css"/>
</head>

<body>
<div class="head"><h1>Theory EviL_Truth</h1>


<p><a href="index.html">Up</a> to index of Isabelle/HOL/EviL</p>
<span class="command">theory</span> <span class="name">EviL_Truth</span><br/>
<span class="keyword">imports</span> <a href="EviL_Logic.html"><span class="name">EviL_Logic</span></a><br/>

</div>
<hr/>
<div class="source">
<pre><span class="command_span"><span class="command">header</span><span class="verbatim">{* The EviL Truth (Lemma) *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">theory</span> <span class="ident">EviL_Truth</span>
<span class="keyword">imports</span> <span class="ident">EviL_Logic</span>
<span class="keyword">begin</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span><span class="verbatim">{* In our previous treatment, we introduced the semantics, proof theory, soundness and completeness
 for classical logic in one file; addressing the issues related to the canonical model construction for
 classical logic along with everything else.  Since the logic we are developing here is much richer, we 
 have opted to devote this file to the truth lemma for the subformula
 model we have constructed. *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">no_notation</span>
  <span class="ident">bot</span> <span class="keyword">(</span><span class="string">&quot;&perp;&quot;</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">imp</span> <span class="keyword">(</span><span class="keyword">infixr</span> <span class="string">&quot;-&gt;&quot;</span> <span class="ident">25</span><span class="keyword">)</span>  <span class="keyword">and</span>
  <span class="ident">vdash</span> <span class="keyword">(</span><span class="string">&quot;\&lt;turnstile&gt; _&quot;</span> <span class="keyword">[</span><span class="ident">20</span><span class="keyword">]</span> <span class="ident">20</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">lift_vdash</span> <span class="keyword">(</span><span class="keyword">infix</span> <span class="string">&quot;:\&lt;turnstile&gt;&quot;</span> <span class="ident">10</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">Not</span>  <span class="keyword">(</span><span class="string">&quot;&not; _&quot;</span> <span class="keyword">[</span><span class="ident">40</span><span class="keyword">]</span> <span class="ident">40</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">neg</span> <span class="keyword">(</span><span class="string">&quot;&not; _&quot;</span> <span class="keyword">[</span><span class="ident">40</span><span class="keyword">]</span> <span class="ident">40</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">Classic.cl_neg</span> <span class="keyword">(</span><span class="string">&quot;&not; _&quot;</span> <span class="keyword">[</span><span class="ident">40</span><span class="keyword">]</span> <span class="ident">40</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">pneg</span> <span class="keyword">(</span><span class="string">&quot;&sim; _&quot;</span> <span class="keyword">[</span><span class="ident">40</span><span class="keyword">]</span> <span class="ident">40</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">cl_pneg</span> <span class="keyword">(</span><span class="string">&quot;&sim;&apos; _&quot;</span> <span class="keyword">[</span><span class="ident">40</span><span class="keyword">]</span> <span class="ident">40</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">CL_P</span> <span class="keyword">(</span><span class="string">"P#"</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">CL_Bot</span> <span class="keyword">(</span><span class="string">&quot;&perp;&quot;</span><span class="keyword">)</span> <span class="keyword">and</span>
  <span class="ident">CL_Imp</span> <span class="keyword">(</span><span class="keyword">infixr</span> <span class="string">&quot;-&gt;&quot;</span> <span class="ident">25</span><span class="keyword">)</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span><span class="verbatim">{* We first introduce \emph{pseudo} operators.  Namely, we&apos;ll follow our 
  previous treatment of pseudo-negation (that is, @{term &quot;&lambda; &phi; . ~ &phi;&quot;}) that we did in
  \texttt{Classic.thy}, but we shall also introduce new psuedo-operations
  corresponding to @{term &quot;[-]&quot;} and @{term &quot;[+]&quot;}.
  To do this, we first prove some basic logical equivilances, which are consequences
  of the above.
 *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_BBI_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [+] X ([+] X &phi;) \&lt;leftrightarrow&gt; [+] X &phi;&quot;</span>
<span class="keyword">--</span><span class="string">"Further further beliefs are the same as further beliefs"</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ax5</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span> 
      <span class="ident">evil_ax4</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;[+] X &phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_eq_intro</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_BB_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [-] X ([-] X &phi;) \&lt;leftrightarrow&gt; [-] X &phi;&quot;</span>
<span class="keyword">--</span><span class="string">"To discard beliefs and then discard beliefs again"</span>
<span class="keyword">--</span><span class="string">"is the same as discarding beliefs only once"</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_BBax5</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span> 
      <span class="ident">evil_BBax4</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;[-] X &phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_eq_intro</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_eq_neg</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt;  &phi; \&lt;leftrightarrow&gt; &psi; ==&gt; \&lt;turnstile&gt; &not; &phi; \&lt;leftrightarrow&gt; &not; &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;\&lt;turnstile&gt;  &phi; \&lt;leftrightarrow&gt; &psi;&quot;</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">let</span> <span class="var">?&thetasym;</span> <span class="keyword">=</span> <span class="string">&quot;((P#<sub>CL</sub> &phi;) \&lt;leftrightarrow&gt;<sub>CL</sub> P#<sub>CL</sub> &psi;) -&gt;<sub>CL</sub> (&not;<sub>CL</sub> (P#<sub>CL</sub> &phi;) \&lt;leftrightarrow&gt;<sub>CL</sub> &not;<sub>CL</sub> (P#<sub>CL</sub> &psi;))&quot;</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;?&thetasym; &isin; CL&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_ClassAx.cl_translate</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;?&thetasym;&quot;</span><span class="keyword">]</span>
                <span class="ident">evil_mp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_DD_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &lang;-&rang; X (&lang;-&rang; X &phi;) \&lt;leftrightarrow&gt; &lang;-&rang; X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&perp; &isin; \&lt;Down&gt; (&not; &not; [-] X (&not; &phi;))&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_dneg_eq</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; &not; &not; [-] X (&not; &phi;) \&lt;leftrightarrow&gt; [-] X (&not; &phi;)&quot;</span></span><span class="ignored_span"> 
      </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_sub</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&chi;</span><span class="keyword">=</span><span class="string">&quot;&lang;-&rang; X (&lang;-&rang; X &phi;)&quot;</span>
                            <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&not; &not; [-] X (&not; &phi;)&quot;</span>
                            <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;[-] X (&not; &phi;)&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; &lang;-&rang; X (&lang;-&rang; X &phi;) \&lt;leftrightarrow&gt; &not; [-] X ([-] X (&not; &phi;))&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> 
  </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BB_eq</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [-] X ([-] X (&not; &phi;)) \&lt;leftrightarrow&gt; [-] X (&not; &phi;)&quot;</span></span><span class="ignored_span">  </span><span class="command_span"><span class="command">.</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_neg</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; &not; [-] X ([-] X (&not; &phi;)) \&lt;leftrightarrow&gt; &lang;-&rang; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">.</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_eq_trans</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">
  
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_DDI_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &lang;+&rang; X (&lang;+&rang; X &phi;) \&lt;leftrightarrow&gt; &lang;+&rang; X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&perp; &isin; \&lt;Down&gt; (&not; &not; [+] X (&not; &phi;))&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_dneg_eq</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; &not; &not; [+] X (&not; &phi;) \&lt;leftrightarrow&gt; [+] X (&not; &phi;)&quot;</span></span><span class="ignored_span"> 
      </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_sub</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&chi;</span><span class="keyword">=</span><span class="string">&quot;&lang;+&rang; X (&lang;+&rang; X &phi;)&quot;</span>
                            <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&not; &not; [+] X (&not; &phi;)&quot;</span>
                            <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;[+] X (&not; &phi;)&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; &lang;+&rang; X (&lang;+&rang; X &phi;) \&lt;leftrightarrow&gt; &not; [+] X ([+] X (&not; &phi;))&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> 
  </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BBI_eq</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [+] X ([+] X (&not; &phi;)) \&lt;leftrightarrow&gt; [+] X (&not; &phi;)&quot;</span></span><span class="ignored_span">  </span><span class="command_span"><span class="command">.</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_neg</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; &not; [+] X ([+] X (&not; &phi;)) \&lt;leftrightarrow&gt; &lang;+&rang; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">.</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_eq_trans</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span><span class="verbatim">{* Here are our psuedo box operators; the lemmas we shall prove reflect the
       lemmas associated with pseudo-negation. *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">definition</span> <span class="ident">evil_pBB</span> <span class="keyword">::</span> <span class="string">&quot;&apos;b =&gt; (&apos;a,&apos;b) evil_form 
                           =&gt; (&apos;a,&apos;b) evil_form&quot;</span> <span class="keyword">(</span><span class="string">"[-]'"</span><span class="keyword">)</span>
  <span class="keyword">where</span>
  <span class="string">&quot;[-]&apos; X &phi; &equiv; (if (&exist; &psi;. ([-] X &psi;) = &phi;)
                then &phi;
                else [-] X &phi;)&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">definition</span> <span class="ident">evil_pBBI</span> <span class="keyword">::</span> <span class="string">&quot;&apos;b =&gt; (&apos;a,&apos;b) evil_form 
                            =&gt; (&apos;a,&apos;b) evil_form&quot;</span> <span class="keyword">(</span><span class="string">"[+]'"</span><span class="keyword">)</span>
  <span class="keyword">where</span>
  <span class="string">&quot;[+]&apos; X &phi; &equiv; (if (&exist; &psi;. ([+] X &psi;) = &phi;)
                then &phi;
                else [+] X &phi;)&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">abbreviation</span> <span class="ident">evil_pDD</span> <span class="keyword">::</span> <span class="string">&quot;&apos;b =&gt; (&apos;a,&apos;b) evil_form 
                           =&gt; (&apos;a,&apos;b) evil_form&quot;</span> <span class="keyword">(</span><span class="string">&quot;&lang;-&rang;&apos;&quot;</span><span class="keyword">)</span>
  <span class="keyword">where</span>
  <span class="string">&quot;&lang;-&rang;&apos; X &phi; &equiv; &not; ([-]&apos; X (&not; &phi;))&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">abbreviation</span> <span class="ident">evil_pDDI</span> <span class="keyword">::</span> <span class="string">&quot;&apos;b =&gt; (&apos;a,&apos;b) evil_form 
                            =&gt; (&apos;a,&apos;b) evil_form&quot;</span> <span class="keyword">(</span><span class="string">&quot;&lang;+&rang;&apos;&quot;</span><span class="keyword">)</span>
  <span class="keyword">where</span>
  <span class="string">&quot;&lang;+&rang;&apos; X &phi; &equiv; &not; ([+]&apos; X (&not; &phi;))&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">declare</span> <span class="ident">evil_pBB_def</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span> 
    <span class="keyword">and</span> <span class="ident">evil_pBBI_def</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span> <span class="verbatim">{* To start, we shall prove some basic syntactic theorems
        regarding our new operators. *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">pBB_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;[-]&apos; X ([-]&apos; X &phi;) = [-]&apos; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">pBBI_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;[+]&apos; X ([+]&apos; X &phi;) = [+]&apos; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">pBB_BB_subform_sub</span><span class="keyword">:</span> <span class="string">&quot;\&lt;Down&gt; ([-]&apos; X &phi;) &sube; \&lt;Down&gt; ([-] X &phi;)&quot;</span></span><span class="ignored_span"> 
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&exist; &psi;. ([-] X &psi;) = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;~ (&exist; &psi;. ([-] X &psi;) = &phi;)&quot;</span></span><span class="ignored_span"> 
           </span><span class="command_span"><span class="command">thus</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">pBBI_BBI_subform_sub</span><span class="keyword">:</span> <span class="string">&quot;\&lt;Down&gt; ([+]&apos; X &phi;) &sube; \&lt;Down&gt; ([+] X &phi;)&quot;</span></span><span class="ignored_span"> 
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&exist; &psi;. ([+] X &psi;) = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;~ (&exist; &psi;. ([+] X &psi;) = &phi;)&quot;</span></span><span class="ignored_span"> 
           </span><span class="command_span"><span class="command">thus</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">    

</span><span class="command_span"><span class="command">text</span> <span class="verbatim">{* We have here now two utterly analogous proofs, illustrating
        our psuedo-operations are algebraically indistinguishable to
        the logic of EviL. *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_BB_pBB_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X &phi; \&lt;leftrightarrow&gt; [-] X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&exist; &psi;. ([-] X &psi;) = &phi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">this</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">obtain</span> <span class="ident">&psi;</span> <span class="keyword">where</span> <span class="string">&quot;[-] X &psi; = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">auto</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;[-] X &psi; = [-]&apos; X &phi;&quot;</span> 
     <span class="keyword">and</span> <span class="string">&quot;[-] X ([-] X &psi;) = [-] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span><span class="keyword">+</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_eq_symm</span> <span class="ident">evil_BB_eq</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
     <span class="string">&quot;\&lt;turnstile&gt; [-] X &psi; \&lt;leftrightarrow&gt; [-] X ([-] X &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;~ (&exist; &psi;. ([-] X &psi;) = &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;[-]&apos; X &phi; = [-] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_refl</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_BBI_pBBI_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X &phi; \&lt;leftrightarrow&gt; [+] X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&exist; &psi;. ([+] X &psi;) = &phi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">this</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">obtain</span> <span class="ident">&psi;</span> <span class="keyword">where</span> <span class="string">&quot;[+] X &psi; = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">auto</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;[+] X &psi; = [+]&apos; X &phi;&quot;</span> 
     <span class="keyword">and</span> <span class="string">&quot;[+] X ([+] X &psi;) = [+] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span><span class="keyword">+</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_eq_symm</span> <span class="ident">evil_BBI_eq</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
     <span class="string">&quot;\&lt;turnstile&gt; [+] X &psi; \&lt;leftrightarrow&gt; [+] X ([+] X &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;~ (&exist; &psi;. ([+] X &psi;) = &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;[+]&apos; X &phi; = [+] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_refl</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_eq_contrapose</span><span class="keyword">:</span>
   <span class="string">&quot;\&lt;turnstile&gt; &phi; \&lt;leftrightarrow&gt; &psi; ==&gt; \&lt;turnstile&gt; &not; &phi; \&lt;leftrightarrow&gt; &not; &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_eq_weaken</span>
      <span class="ident">evil_eq_symm</span>
      <span class="ident">evil_contrapose</span>
      <span class="ident">evil_eq_intro</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&not; &phi;&quot;</span> <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;&not; &psi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_DD_pDD_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &lang;-&rang;&apos; X &phi; \&lt;leftrightarrow&gt; &lang;-&rang; X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&not; &phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_eq_contrapose</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_DDI_pDDI_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &lang;+&rang;&apos; X &phi; \&lt;leftrightarrow&gt; &lang;+&rang; X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&not; &phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_eq_contrapose</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span> <span class="verbatim">{* Some consequences of the above are that every
        axiom involving @{term "[-]"} and @{term "[+]"}
        has a variation involving the pseudo-boxes.
        
        This constitutes a metalemma of sorts. *}</span></span><span class="ignored_span"> 

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax4</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X &phi; -&gt; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_eq_weaken</span>
      <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_ax4</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBBax4</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X &phi; -&gt; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_eq_weaken</span>
      <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_BBax4</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax5</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X &phi; -&gt; [+]&apos; X ([+]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> 
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_eq_weaken</span>
       <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_eq_symm</span>
       <span class="ident">evil_BBI_map</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span>
                       <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;[+] X &phi;&quot;</span> 
                       <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;[+]&apos; X &phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [+] X ([+] X &phi;) -&gt; [+] X ([+]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ax5</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [+] X &phi; -&gt; [+] X ([+]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_weaken</span>
       <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X &phi; -&gt; [+] X ([+]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;[+]&apos; X &phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_eq_symm</span>
       <span class="ident">evil_eq_weaken</span>
       <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">
     
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBBax5</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X &phi; -&gt; [-]&apos; X ([-]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> 
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_eq_weaken</span>
       <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_eq_symm</span>
       <span class="ident">evil_BB_map</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span>
                       <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;[-] X &phi;&quot;</span> 
                       <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;[-]&apos; X &phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [-] X ([-] X &phi;) -&gt; [-] X ([-]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_BBax5</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [-] X &phi; -&gt; [-] X ([-]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_weaken</span>
       <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X &phi; -&gt; [-] X ([-]&apos; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;[-]&apos; X &phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_eq_symm</span>
       <span class="ident">evil_eq_weaken</span>
       <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax6</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; P# p -&gt; [+]&apos; X (P# p)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ax6</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">p</span><span class="keyword">=</span><span class="string">"p"</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax7</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; P# p -&gt; [-]&apos; X (P# p)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ax7</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">p</span><span class="keyword">=</span><span class="string">"p"</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax8</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; \&lt;diamond&gt; X &phi; -&gt; [-]&apos; X (\&lt;diamond&gt; X &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ax8</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBBIax8</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; \&lt;box&gt; X &phi; -&gt; [+]&apos; X (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_BBIax8</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax9</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; \&lt;box&gt; X &phi; -&gt; \&lt;box&gt; X ([+]&apos; Y &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_eq_symm</span>
      <span class="ident">evil_eq_weaken</span>
      <span class="ident">evil_B_map</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
      <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"Y"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_ax9</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">Y</span><span class="keyword">=</span><span class="string">"Y"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax10</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; \&lt;box&gt; X &phi; -&gt; \&lt;box&gt; X ([-]&apos; Y &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_eq_symm</span>
      <span class="ident">evil_eq_weaken</span>
      <span class="ident">evil_B_map</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
      <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"Y"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_ax10</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">Y</span><span class="keyword">=</span><span class="string">"Y"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span>
      <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span>

<span class="keyword">--</span><span class="string">"Skipping axiom 11"</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax12</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; \&lt;odot&gt; X -&gt; [-]&apos; X (\&lt;odot&gt; X)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ax12</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax13</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &phi; -&gt; [+]&apos; X (&lang;-&rang;&apos; X &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ax13</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax14</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &phi; -&gt; [-]&apos; X (&lang;+&rang;&apos; X &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ax14</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span>

<span class="keyword">--</span><span class="string">"Skipping axiom 15"</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax16</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X (&phi; -&gt; &psi;) -&gt; [-]&apos; X &phi; -&gt; [-]&apos; X &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">let</span> <span class="var">?A</span> <span class="keyword">=</span> <span class="string">&quot;[-] X (&phi; -&gt; &psi;)&quot;</span>
   <span class="keyword">and</span> <span class="var">?A'</span> <span class="keyword">=</span> <span class="string">&quot;[-]&apos; X (&phi; -&gt; &psi;)&quot;</span>
   <span class="keyword">and</span> <span class="var">?B</span> <span class="keyword">=</span> <span class="string">&quot;[-] X &phi;&quot;</span>
   <span class="keyword">and</span> <span class="var">?B'</span> <span class="keyword">=</span> <span class="string">&quot;[-]&apos; X &phi;&quot;</span>
   <span class="keyword">and</span> <span class="var">?C</span> <span class="keyword">=</span> <span class="string">&quot;[-] X &psi;&quot;</span>
   <span class="keyword">and</span> <span class="var">?C'</span> <span class="keyword">=</span> <span class="string">&quot;[-]&apos; X &psi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
        <span class="ident">evil_eq_symm</span>
        <span class="ident">evil_eq_weaken</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="ident">a</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; ?A&apos; -&gt; ?A&quot;</span>
    <span class="keyword">and</span> <span class="ident">b</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; ?B&apos; -&gt; ?B&quot;</span>
    <span class="keyword">and</span> <span class="ident">c</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; ?C -&gt; ?C&apos;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span><span class="keyword">+</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_ax16</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; ?A -&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">.</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">a</span> <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; ?A&apos; -&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span"> 
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_ClassAx.lift</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A']"</span><span class="keyword">]</span>
                 <span class="ident">b</span> <span class="ident">c</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?B&apos; -&gt; ?B&quot;</span> <span class="keyword">and</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?C -&gt; ?C&apos;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span><span class="keyword">+</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_ClassAx.lift_hs</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A']"</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?B&apos; -&gt; ?C&apos;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">thus</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pax17</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X (&phi; -&gt; &psi;) -&gt; [+]&apos; X &phi; -&gt; [+]&apos; X &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">let</span> <span class="var">?A</span> <span class="keyword">=</span> <span class="string">&quot;[+] X (&phi; -&gt; &psi;)&quot;</span>
   <span class="keyword">and</span> <span class="var">?A'</span> <span class="keyword">=</span> <span class="string">&quot;[+]&apos; X (&phi; -&gt; &psi;)&quot;</span>
   <span class="keyword">and</span> <span class="var">?B</span> <span class="keyword">=</span> <span class="string">&quot;[+] X &phi;&quot;</span>
   <span class="keyword">and</span> <span class="var">?B'</span> <span class="keyword">=</span> <span class="string">&quot;[+]&apos; X &phi;&quot;</span>
   <span class="keyword">and</span> <span class="var">?C</span> <span class="keyword">=</span> <span class="string">&quot;[+] X &psi;&quot;</span>
   <span class="keyword">and</span> <span class="var">?C'</span> <span class="keyword">=</span> <span class="string">&quot;[+]&apos; X &psi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
        <span class="ident">evil_eq_symm</span>
        <span class="ident">evil_eq_weaken</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="ident">a</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; ?A&apos; -&gt; ?A&quot;</span>
    <span class="keyword">and</span> <span class="ident">b</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; ?B&apos; -&gt; ?B&quot;</span>
    <span class="keyword">and</span> <span class="ident">c</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; ?C -&gt; ?C&apos;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span><span class="keyword">+</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_ax17</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; ?A -&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">.</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">a</span> <span class="ident">evil_ClassAx.hs</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; ?A&apos; -&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span"> 
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_ClassAx.lift</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A']"</span><span class="keyword">]</span>
                 <span class="ident">b</span> <span class="ident">c</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?B&apos; -&gt; ?B&quot;</span> <span class="keyword">and</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?C -&gt; ?C&apos;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span><span class="keyword">+</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_ClassAx.lift_hs</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A']"</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[?A&apos;] :\&lt;turnstile&gt; ?B&apos; -&gt; ?C&apos;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">thus</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBB_nec</span><span class="keyword">:</span>
      <span class="keyword">assumes</span> <span class="ident">prv</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &phi;&quot;</span>
        <span class="keyword">shows</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">prv</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">prv</span> <span class="ident">evil_BB_nec</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [-] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
        <span class="ident">evil_eq_symm</span> <span class="ident">evil_eq_mp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBBI_nec</span><span class="keyword">:</span>
      <span class="keyword">assumes</span> <span class="ident">prv</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &phi;&quot;</span>
        <span class="keyword">shows</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">prv</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">prv</span> <span class="ident">evil_BBI_nec</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [+] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
        <span class="ident">evil_eq_symm</span> <span class="ident">evil_eq_mp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_lift_pax16</span><span class="keyword">:</span> 
   <span class="keyword">assumes</span> <span class="ident">notnil</span><span class="keyword">:</span> <span class="string">&quot;&phi;s &ne; []&quot;</span>
     <span class="keyword">shows</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X (&phi;s :-&gt; &psi;) 
              -&gt; ((map ([-]&apos; X) &phi;s) :-&gt; [-]&apos; X &psi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">notnil</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">case</span> <span class="ident">Nil</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">Cons</span> <span class="ident">&phi;</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">note</span> <span class="ident">ind_hyp</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&phi;s = []&quot;</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_pax16</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">let</span> <span class="var">?A</span> <span class="keyword">=</span> <span class="string">&quot;[-]&apos; X ((&phi; # &phi;s) :-&gt; &psi;)&quot;</span>
    <span class="keyword">and</span> <span class="var">?B</span> <span class="keyword">=</span> <span class="string">&quot;[-]&apos; X &phi;&quot;</span>
    <span class="keyword">and</span> <span class="var">?C</span> <span class="keyword">=</span> <span class="string">&quot;[-]&apos; X (&phi;s :-&gt; &psi;)&quot;</span>
    <span class="keyword">and</span> <span class="var">?D</span> <span class="keyword">=</span> <span class="string">&quot;((map ([-]&apos; X) &phi;s) :-&gt; [-]&apos; X &psi;)&quot;</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">assume</span> <span class="ident">notnil</span><span class="keyword">:</span> <span class="string">&quot;&phi;s &ne; []&quot;</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">with</span> <span class="ident">ind_hyp</span>
           <span class="ident">evil_ClassAx.lift</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A]"</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">have</span> <span class="ident">map</span><span class="keyword">:</span> <span class="string">&quot;[?A] :\&lt;turnstile&gt; ?C -&gt; ?D&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_pax16</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span>
                         <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span>
                         <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;&phi;s :-&gt; &psi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[?A] :\&lt;turnstile&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">with</span> <span class="ident">map</span>
           <span class="ident">evil_ClassAx.lift_hs</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A]"</span>
                                   <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">"?B"</span>
                                   <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">"?C"</span>
                                   <span class="keyword">and</span> <span class="ident">&chi;</span><span class="keyword">=</span><span class="string">"?D"</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBB_lift_map</span><span class="keyword">:</span>
 <span class="keyword">assumes</span> <span class="ident">seq</span><span class="keyword">:</span> <span class="string">&quot;&phi;s :\&lt;turnstile&gt; &psi;&quot;</span>
   <span class="keyword">shows</span> <span class="string">&quot;(map ([-]&apos; X) &phi;s) :\&lt;turnstile&gt; [-]&apos; X &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">seq</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">case</span> <span class="ident">Nil</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_pBB_nec</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">Cons</span> <span class="ident">&phi;</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_pBB_nec</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;(&phi; # &phi;s) :-&gt; &psi;&quot;</span><span class="keyword">]</span>
         <span class="ident">evil_mp</span>
         <span class="ident">evil_lift_pax16</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span>
                           <span class="keyword">and</span> <span class="ident">&phi;s</span><span class="keyword">=</span><span class="string">&quot;&phi; # &phi;s&quot;</span>
                           <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;&psi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span><span class="keyword">)</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_lift_pax17</span><span class="keyword">:</span> 
   <span class="keyword">assumes</span> <span class="ident">notnil</span><span class="keyword">:</span> <span class="string">&quot;&phi;s &ne; []&quot;</span>
     <span class="keyword">shows</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X (&phi;s :-&gt; &psi;) 
              -&gt; ((map ([+]&apos; X) &phi;s) :-&gt; [+]&apos; X &psi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">notnil</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">case</span> <span class="ident">Nil</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">Cons</span> <span class="ident">&phi;</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">note</span> <span class="ident">ind_hyp</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&phi;s = []&quot;</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_pax17</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">let</span> <span class="var">?A</span> <span class="keyword">=</span> <span class="string">&quot;[+]&apos; X ((&phi; # &phi;s) :-&gt; &psi;)&quot;</span>
    <span class="keyword">and</span> <span class="var">?B</span> <span class="keyword">=</span> <span class="string">&quot;[+]&apos; X &phi;&quot;</span>
    <span class="keyword">and</span> <span class="var">?C</span> <span class="keyword">=</span> <span class="string">&quot;[+]&apos; X (&phi;s :-&gt; &psi;)&quot;</span>
    <span class="keyword">and</span> <span class="var">?D</span> <span class="keyword">=</span> <span class="string">&quot;((map ([+]&apos; X) &phi;s) :-&gt; [+]&apos; X &psi;)&quot;</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">assume</span> <span class="ident">notnil</span><span class="keyword">:</span> <span class="string">&quot;&phi;s &ne; []&quot;</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">with</span> <span class="ident">ind_hyp</span>
           <span class="ident">evil_ClassAx.lift</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A]"</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">have</span> <span class="ident">map</span><span class="keyword">:</span> <span class="string">&quot;[?A] :\&lt;turnstile&gt; ?C -&gt; ?D&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_pax17</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span>
                         <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span>
                         <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;&phi;s :-&gt; &psi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[?A] :\&lt;turnstile&gt; ?B -&gt; ?C&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">with</span> <span class="ident">map</span>
           <span class="ident">evil_ClassAx.lift_hs</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"[?A]"</span>
                                   <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">"?B"</span>
                                   <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">"?C"</span>
                                   <span class="keyword">and</span> <span class="ident">&chi;</span><span class="keyword">=</span><span class="string">"?D"</span><span class="keyword">]</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBBI_lift_map</span><span class="keyword">:</span>
 <span class="keyword">assumes</span> <span class="ident">seq</span><span class="keyword">:</span> <span class="string">&quot;&phi;s :\&lt;turnstile&gt; &psi;&quot;</span>
   <span class="keyword">shows</span> <span class="string">&quot;(map ([+]&apos; X) &phi;s) :\&lt;turnstile&gt; [+]&apos; X &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">seq</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">case</span> <span class="ident">Nil</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_pBBI_nec</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">Cons</span> <span class="ident">&phi;</span> <span class="ident">&phi;s</span><span class="keyword">)</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_pBBI_nec</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;(&phi; # &phi;s) :-&gt; &psi;&quot;</span><span class="keyword">]</span>
         <span class="ident">evil_mp</span>
         <span class="ident">evil_lift_pax17</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span>
                           <span class="keyword">and</span> <span class="ident">&phi;s</span><span class="keyword">=</span><span class="string">&quot;&phi; # &phi;s&quot;</span>
                           <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;&psi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span><span class="verbatim">{* What follows is mostly repeat code from \texttt{Classic.thy}; 
       however, we also show logical results 
       which are analogous to the above.

       One change is that our destructor is total now;
       we shall find a crazy occasion to reuse it in a lemma. *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">primrec</span> <span class="ident">evil_dest</span><span class="keyword">::</span> <span class="string">&quot;(&apos;a,&apos;b) evil_form 
    =&gt; (&apos;a,&apos;b) evil_form&quot;</span> <span class="keyword">(</span><span class="string">&quot;\&lt;surd&gt;&quot;</span><span class="keyword">)</span>
  <span class="keyword">where</span>  <span class="string">&quot; \&lt;surd&gt; (P# p) = P# p&quot;</span>
       <span class="keyword">|</span> <span class="string">&quot;\&lt;surd&gt; &perp; = &perp;&quot;</span>
       <span class="keyword">|</span> <span class="string">&quot;\&lt;surd&gt; (\&lt;odot&gt; X) = \&lt;odot&gt; X&quot;</span>
       <span class="keyword">|</span> <span class="string">&quot;\&lt;surd&gt; (&phi; -&gt; &psi;) = &phi;&quot;</span>
       <span class="keyword">|</span> <span class="string">&quot;\&lt;surd&gt; (\&lt;box&gt; X &phi;) = &phi;&quot;</span>
       <span class="keyword">|</span> <span class="string">&quot;\&lt;surd&gt; ([-] X &phi;) = &phi;&quot;</span>
       <span class="keyword">|</span> <span class="string">&quot;\&lt;surd&gt; ([+] X &phi;) = &phi;&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">abbreviation</span> <span class="ident">evil_pneg</span> <span class="keyword">::</span> <span class="string">&quot;(&apos;a,&apos;b) evil_form 
         =&gt; (&apos;a,&apos;b) evil_form&quot;</span> <span class="keyword">(</span><span class="string">&quot;&sim;&apos; _&quot;</span> <span class="keyword">[</span><span class="ident">40</span><span class="keyword">]</span> <span class="ident">40</span><span class="keyword">)</span>
  <span class="keyword">where</span> 
  <span class="string">&quot;&sim;&apos; &phi; &equiv; (if (&exist; &psi;. (&not; &psi;) = &phi;) 
             then (\&lt;surd&gt; &phi;) 
             else &not; &phi;)&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">notation</span>
<span class="ident">evil_ClassAx.pneg</span> <span class="keyword">(</span><span class="string">&quot;&sim; _&quot;</span> <span class="keyword">[</span><span class="ident">40</span><span class="keyword">]</span> <span class="ident">40</span><span class="keyword">)</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemmas</span> <span class="ident">pneg_def</span> <span class="keyword">=</span> <span class="ident">evil_ClassAx.pneg_def</span>

<span class="keyword">--</span><span class="string">"The new pseudo-negation is constructive(?) so always simplify to it"</span></span><span class="ignored_span"> 
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">pneg_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; &phi;) = (&sim;&apos; &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="ident">a</span><span class="keyword">:</span> <span class="string">&quot;&exist; &psi;. (&not; &psi;) = &phi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;&exist;! &psi;. (&not; &psi;) = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> 
   </span><span class="command_span"><span class="command">then</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(&not; &sim;&apos; &phi;) = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">a</span> 
                 <span class="ident">pneg_def</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(&sim; &phi;) = (SOME &psi; . (&not; &psi;) = &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span>
     <span class="ident">some1_equality</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">P</span><span class="keyword">=</span><span class="string">&quot;% &psi; . (&not; &psi;) = &phi;&quot;</span>
                       <span class="keyword">and</span> <span class="ident">a</span><span class="keyword">=</span><span class="string">&quot;&sim;&apos; &phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">auto</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="ident">b</span><span class="keyword">:</span> <span class="string">&quot;~ (&exist; &psi;. (&not; &psi;) = &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">pneg_def</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span>

<span class="keyword">--</span><span class="string">"These silly lemmas show how pseudo-negation plays"</span>
<span class="keyword">--</span><span class="string">"with boxes and pseudo-boxes"</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBB_pneg_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; [-]&apos; X &phi;) = (&not; [-]&apos; X &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBBI_pneg_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; [+]&apos; X &phi;) = (&not; [+]&apos; X &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_B_pneg_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; \&lt;box&gt; X &phi;) = (&not; \&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBB_pneg_eq2</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; &not; [-]&apos; X &phi;) = ([-]&apos; X &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pBBI_pneg_eq2</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; &not; [+]&apos; X &phi;) = ([+]&apos; X &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_B_pneg_eq2</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; &not; \&lt;box&gt; X &phi;) = (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Bot_pneg_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; &perp;) = (&not; &perp;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Bot_pneg_eq2</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(&sim; (&not; &perp;)) = &perp;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span>

<span class="keyword">--</span><span class="string">"As we can see pseudo-negation is logically the same"</span>
<span class="keyword">--</span><span class="string">"as negation"</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pneg_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &sim; &phi; \&lt;leftrightarrow&gt; &not; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&exist; &psi;. (&not; &psi;) = &phi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">this</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">obtain</span> <span class="ident">&psi;</span> <span class="keyword">where</span> <span class="string">&quot;(&not; &psi;) = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">auto</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;(&sim; &phi;) = &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_dneg_eq</span> <span class="ident">evil_eq_symm</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;~ (&exist; &psi;. (&not; &psi;) = &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_refl</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pdneg_eq</span><span class="keyword">:</span> <span class="string">&quot;\&lt;turnstile&gt; &not; &sim; &phi; \&lt;leftrightarrow&gt; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&exist; &psi;. (&not; &psi;) = &phi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">someI_ex</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">P</span><span class="keyword">=</span><span class="string">&quot;% &psi; . (&not; &psi;) = &phi;&quot;</span><span class="keyword">]</span> 
       <span class="ident">evil_ClassAx.pneg_def</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(&not; &sim; &phi;) = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_refl</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;~ (&exist; &psi;. (&not; &psi;) = &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_eq_refl</span> <span class="ident">evil_dneg_eq</span></span><span class="ignored_span"> 
   </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">neg_pneg_sem_eq</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span> <span class="string">&quot;(M,w |\&lt;turnstile&gt; &sim; &phi;) = (~ (M,w |\&lt;turnstile&gt; &phi;))&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">cases</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&exist; &psi; . (&not; &psi;) = &phi;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;(&not; &sim; &phi;) = &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(~ (M,w |\&lt;turnstile&gt; &not; &sim; &phi;)) = (M,w |\&lt;turnstile&gt; &sim; &phi;)&quot;</span></span><span class="ignored_span"> 
     </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
 </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;~ (&exist; &psi;. (&not; &psi;) = &phi;)&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;(&sim; &phi;) = (&not; &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(~ (M,w |\&lt;turnstile&gt; &phi;)) = (M,w |\&lt;turnstile&gt; &not; &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span><span class="verbatim">{* With these preliminaries out of the way we turn to tackling
       issues related to the Fisher-Ladner closure.  Observe that our
       semantics specify an unknown number of agents; this could
       potentially be an issue.  However, we
       know for a given formula it can only mention a finite number
       of agents; hence the Fisher-Ladner subformula construction
       need only mention these agents.

       To accomplish this, we first introduce an operation: *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">primrec</span> <span class="ident">dudes</span>
   <span class="keyword">::</span> <span class="string">&quot;(&apos;a,&apos;b) evil_form =&gt; &apos;b set&quot;</span> <span class="keyword">(</span><span class="string">&quot;&delta;&quot;</span><span class="keyword">)</span>
<span class="keyword">where</span>
    <span class="string">&quot;&delta; (P# p) = {}&quot;</span>
  <span class="keyword">|</span> <span class="string">&quot;&delta; &perp; = {}&quot;</span>
  <span class="keyword">|</span> <span class="string">&quot;&delta; (\&lt;odot&gt; X) = {X}&quot;</span>
  <span class="keyword">|</span> <span class="string">&quot;&delta; (&phi; -&gt; &psi;) = (&delta; &phi;) &cup; (&delta; &psi;)&quot;</span>
  <span class="keyword">|</span> <span class="string">&quot;&delta; (\&lt;box&gt; X &phi;) = {X} &cup;  (&delta; &phi;)&quot;</span>
  <span class="keyword">|</span> <span class="string">&quot;&delta; ([-] X &phi;) = {X} &cup;  (&delta; &phi;)&quot;</span>
  <span class="keyword">|</span> <span class="string">&quot;&delta; ([+] X &phi;) = {X} &cup;  (&delta; &phi;)&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">finite_dudes</span><span class="keyword">:</span> <span class="string">&quot;finite (&delta; &phi;)&quot;</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">)</span> <span class="ident">simp_all</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span><span class="verbatim">{* The function @{term &quot;dudes&quot;}, gathers a list of the people mentioned by the formula it takes as an 
       argument. We shall use it as follows: our Fisher-Ladner closure will be programmed to
       carry around a little state which correspond to the @{term &quot;dudes&quot;} mentioned 
       by the top level formula. These people are the only people we care about in our universe. 
       
       We now turn to giving the subformula set; as is evident, it&apos;s very large. Moreover, unlike the
       Fisher-Ladner closure, it&apos;s not a \emph{closure}, but this is irrelevant for our purposes anyway.*}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">primrec</span> <span class="ident">evil_FL</span> <span class="keyword">::</span> <span class="string">&quot;&apos;b set
                 =&gt; (&apos;a,&apos;b) evil_form 
                 =&gt; (&apos;a,&apos;b) evil_form set&quot;</span> <span class="keyword">(</span><span class="string">&quot;&Sigma;&quot;</span><span class="keyword">)</span> <span class="keyword">where</span>
  <span class="ident">evil_FL_P</span><span class="keyword">:</span> 
    <span class="string">&quot;&Sigma; &Delta; (P# p) =   {P# p, &not; (P# p), &perp;, &not; &perp;} 
                  &cup; {[-]&apos; X (P# p) | X. X &isin; &Delta;}
                  &cup; {[+]&apos; X (P# p) | X. X &isin; &Delta;}
                  &cup; {&not; [-]&apos; X (P# p) | X. X &isin; &Delta;}
                  &cup; {&not; [+]&apos; X (P# p) | X. X &isin; &Delta;}&quot;</span>
 <span class="keyword">|</span> <span class="ident">evil_FL_PP</span><span class="keyword">:</span> 
    <span class="string">&quot;&Sigma; &Delta; (\&lt;odot&gt; X) = {\&lt;odot&gt; X, &not; (\&lt;odot&gt; X), &perp;, &not; &perp;, 
                  [-]&apos; X (\&lt;odot&gt; X), &not; [-]&apos; X (\&lt;odot&gt; X)}&quot;</span>
 <span class="keyword">|</span> <span class="ident">evil_FL_Bot</span><span class="keyword">:</span> 
    <span class="string">&quot;&Sigma; &Delta; &perp; = {&perp;, &not; &perp;}&quot;</span>
 <span class="keyword">|</span> <span class="ident">evil_FL_Imp</span><span class="keyword">:</span> 
    <span class="string">&quot;&Sigma; &Delta; (&phi; -&gt; &psi;) = { &phi; -&gt; &psi;, &not; (&phi; -&gt; &psi;), 
                      &phi;, &psi;, &not; &phi;, &not; &psi;, &perp;, &not; &perp;} 
                   &cup; (&Sigma; &Delta; &phi;) &cup; (&Sigma; &Delta; &psi;)&quot;</span>
<span class="keyword">|</span> <span class="ident">evil_FL_B</span><span class="keyword">:</span> 
     <span class="string">&quot;&Sigma; &Delta; (\&lt;box&gt; X &phi;) = { \&lt;box&gt; X &phi;, &not; \&lt;box&gt; X &phi;, 
                      [+]&apos; X (\&lt;box&gt; X &phi;), &not; [+]&apos; X (\&lt;box&gt; X &phi;),
                       &phi;, &perp;, &not; &perp;}
                    &cup; {\&lt;box&gt; X ([-]&apos; Y &phi;) | Y. Y &isin; &Delta;}
                    &cup; {&not; \&lt;box&gt; X ([-]&apos; Y &phi;) | Y. Y &isin; &Delta;}
                    &cup; {\&lt;box&gt; X ([+]&apos; Y &phi;) | Y. Y &isin; &Delta;}
                    &cup; {&not; \&lt;box&gt; X ([+]&apos; Y &phi;) | Y. Y &isin; &Delta;}
                    &cup; {[-]&apos; Y &phi; | Y. Y &isin; &Delta;}
                    &cup; {&not; [-]&apos; Y &phi; | Y. Y &isin; &Delta;}
                    &cup; {[+]&apos; Y &phi; | Y. Y &isin; &Delta;}
                    &cup; {&not; [+]&apos; Y &phi; | Y. Y &isin; &Delta;}
                    &cup; (&Sigma; &Delta; &phi;)&quot;</span>
 <span class="keyword">|</span> <span class="ident">evil_FL_BB</span><span class="keyword">:</span> 
     <span class="string">&quot;&Sigma; &Delta; ([+] X &phi;) = { [+] X &phi;, &not; [+] X &phi;, 
                        &phi;, &not; &phi;, &perp;, &not; &perp;}
                      &cup; (&Sigma; &Delta; &phi;)&quot;</span>
 <span class="keyword">|</span> <span class="ident">evil_FL_BBI</span><span class="keyword">:</span> 
     <span class="string">&quot;&Sigma; &Delta; ([-] X &phi;) = { [-] X &phi;, &not; [-] X &phi;, 
                        &phi;, &not; &phi;, &perp;, &not; &perp;}
                      &cup; (&Sigma; &Delta; &phi;)&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">finite_evil_FL</span><span class="keyword">:</span>
      <span class="keyword">assumes</span> <span class="ident">fin_dudes</span><span class="keyword">:</span> <span class="string">&quot;finite &Delta;&quot;</span>
        <span class="keyword">shows</span> <span class="string">&quot;finite (&Sigma; &Delta; &phi;)&quot;</span>  
           <span class="keyword">--</span><span class="string">"like the letters of a"</span>
           <span class="keyword">--</span><span class="string">"fraternity of EviL..."</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">fin_dudes</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">)</span> <span class="ident">simp_all</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_refl</span><span class="keyword">:</span> <span class="string">&quot;&phi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">,</span> <span class="ident">simp_all</span><span class="keyword">)</span></span><span class="ignored_span"> 

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">pneg_evil_FL</span><span class="keyword">:</span> <span class="string">&quot;&forall;&psi; &isin; (&Sigma; &Delta; &phi;). (&sim; &psi;) &isin; (&Sigma; &Delta; &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">case</span> <span class="ident">E_P</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Bot</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_PP</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_B</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">unfold</span> <span class="ident">evil_FL_B</span><span class="keyword">,</span>
                               <span class="ident">blast</span> <span class="ident">intro</span><span class="keyword">:</span> <span class="ident">evil_FL_refl</span>
                                            <span class="ident">evil_B_pneg_eq</span>
                                            <span class="ident">evil_B_pneg_eq2</span>
                                            <span class="ident">evil_pBB_pneg_eq</span>
                                            <span class="ident">evil_pBB_pneg_eq2</span>
                                            <span class="ident">evil_pBBI_pneg_eq</span>
                                            <span class="ident">evil_pBBI_pneg_eq2</span>
                                            <span class="ident">evil_Bot_pneg_eq</span>
                                            <span class="ident">evil_Bot_pneg_eq2</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Imp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">simp</span><span class="keyword">,</span><span class="ident">auto</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_BB</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_BBI</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_subform_refl</span><span class="keyword">:</span> <span class="string">&quot;\&lt;Down&gt; &phi; &sube; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">case</span> <span class="ident">E_P</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Bot</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_PP</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_Imp</span> <span class="ident">&phi;</span> <span class="ident">&psi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">ih</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">from</span> <span class="ident">ih</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;Down&gt; &phi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Sigma; &Delta; &psi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
         </span><span class="command_span"><span class="command">with</span> <span class="ident">ih</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_B</span> <span class="ident">X</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Sigma; &Delta; &phi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_BB</span> <span class="ident">X</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Sigma; &Delta; &phi; &sube; &Sigma; &Delta; ([-] X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_BBI</span> <span class="ident">X</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Sigma; &Delta; &phi; &sube; &Sigma; &Delta; ([+] X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_subforms</span><span class="keyword">:</span> <span class="string">&quot;&forall; &psi; &isin; &Sigma; &Delta; &phi;. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">case</span> <span class="ident">E_P</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Bot</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_PP</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_Imp</span> <span class="ident">&phi;</span> <span class="ident">&psi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">hence</span> <span class="ident">ih1</span><span class="keyword">:</span> <span class="string">&quot;&forall;&chi;&isin;&Sigma; &Delta; &phi;. \&lt;Down&gt; &chi; &sube; &Sigma; &Delta; &phi;&quot;</span>
         <span class="keyword">and</span> <span class="ident">ih2</span><span class="keyword">:</span> <span class="string">&quot;&forall;&chi;&isin;&Sigma; &Delta; &psi;. \&lt;Down&gt; &chi; &sube; &Sigma; &Delta; &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Sigma; &Delta; &phi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">ih1</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
            <span class="string">&quot;&forall; &chi; &isin; &Sigma; &Delta; &phi;. \&lt;Down&gt; &chi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Sigma; &Delta; &psi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">ih2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
            <span class="string">&quot;&forall; &chi; &isin; &Sigma; &Delta; &psi;. \&lt;Down&gt; &chi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
        <span class="string">&quot;&forall;&chi; &isin; (&Sigma; &Delta; &phi;) &cup; (&Sigma; &Delta; &psi;). \&lt;Down&gt;&chi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span">
           </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_FL_subform_refl</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi; -&gt; &psi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;{&phi;,&psi;} &cup; (\&lt;Down&gt; &phi;) &cup; (\&lt;Down&gt; &psi;) &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> 
            </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;\&lt;Down&gt; &phi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span> 
         <span class="keyword">and</span> <span class="string">&quot;\&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (&phi; -&gt; &psi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_B</span> <span class="ident">X</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">ih</span> <span class="keyword">=</span> <span class="ident">this</span>
       <span class="keyword">--</span><span class="string">"I'm really pretty sad about this,"</span>
       <span class="keyword">--</span><span class="string">"but I must resort to using this very stupid lemma :("</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">A</span> <span class="ident">B</span> <span class="ident">C</span> <span class="ident">D</span><span class="keyword">;</span></span><span class="ignored_span"> 
           </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;A = B &or; A = C&quot;</span> <span class="keyword">and</span> <span class="string">&quot;B &sube; D&quot;</span> <span class="keyword">and</span> <span class="string">&quot;C &sube; D&quot;</span></span><span class="ignored_span">
           </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;A &sube; D&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">sublem</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="ident">sub</span><span class="keyword">:</span> <span class="string">&quot;&Sigma; &Delta; &phi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">ih</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;&Sigma; &Delta; &phi;. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">sub</span> <span class="ident">evil_FL_subform_refl</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="ident">reflI</span><span class="keyword">:</span> <span class="string">&quot;\&lt;Down&gt; &phi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">  
       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">let</span> <span class="var">?A</span> <span class="keyword">=</span> <span class="string">&quot;{\&lt;box&gt; X ([-]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span> 
       <span class="keyword">and</span> <span class="var">?B</span> <span class="keyword">=</span> <span class="string">&quot;{&not; \&lt;box&gt; X ([-]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?C</span> <span class="keyword">=</span> <span class="string">&quot;{\&lt;box&gt; X ([+]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>                         
       <span class="keyword">and</span> <span class="var">?D</span> <span class="keyword">=</span> <span class="string">&quot;{&not; \&lt;box&gt; X ([+]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?E</span> <span class="keyword">=</span> <span class="string">&quot;{[-]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?F</span> <span class="keyword">=</span> <span class="string">&quot;{&not; [-]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?G</span> <span class="keyword">=</span> <span class="string">&quot;{[+]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?H</span> <span class="keyword">=</span> <span class="string">&quot;{&not; [+]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">from</span> <span class="ident">reflI</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="ident">reflII</span><span class="keyword">:</span>
            <span class="string">&quot;{&phi;} &cup; \&lt;Down&gt; &phi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">&chi;</span><span class="keyword">;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;\&lt;Down&gt; &chi; = {&phi;} &cup; \&lt;Down&gt; &phi; &or; \&lt;Down&gt; &chi; = \&lt;Down&gt; &phi;&quot;</span></span><span class="ignored_span">      
         </span><span class="command_span"><span class="command">with</span> <span class="ident">sublem</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A2</span><span class="keyword">=</span><span class="string">&quot;\&lt;Down&gt; &chi;&quot;</span>
                        <span class="keyword">and</span> <span class="ident">B2</span><span class="keyword">=</span><span class="string">&quot;{&phi;} &cup; \&lt;Down&gt; &phi;&quot;</span>
                        <span class="keyword">and</span> <span class="ident">C2</span><span class="keyword">=</span><span class="string">&quot;\&lt;Down&gt;&phi;&quot;</span> 
                        <span class="keyword">and</span> <span class="ident">D2</span><span class="keyword">=</span><span class="string">&quot;&Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span><span class="keyword">]</span>
              <span class="ident">reflI</span> <span class="ident">reflII</span></span><span class="ignored_span">
         </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;Down&gt; &chi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">EGintro</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?E. \&lt;Down&gt; &psi; = {&phi;} &cup; \&lt;Down&gt; &phi; &or; \&lt;Down&gt; &psi; = \&lt;Down&gt; &phi;&quot;</span>
            <span class="string">&quot;&forall;&psi;&isin;?G. \&lt;Down&gt; &psi; = {&phi;} &cup; \&lt;Down&gt; &phi; &or; \&lt;Down&gt; &psi; = \&lt;Down&gt; &phi;&quot;</span></span><span class="ignored_span">
               </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">EGintro</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?E. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?G. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">EGsub</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?A. \&lt;surd&gt;&psi; &isin; ?E&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?C. \&lt;surd&gt;&psi; &isin; ?G&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?F. \&lt;surd&gt;&psi; &isin; ?E&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?H. \&lt;surd&gt;&psi; &isin; ?G&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                   <span class="ident">evil_pBBI_def</span><span class="keyword">)</span><span class="keyword">+</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">with</span> <span class="ident">EGsub</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
            <span class="string">&quot;&forall;&psi;&isin;?A. {\&lt;surd&gt;&psi;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?C. {\&lt;surd&gt;&psi;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?F. {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?H. {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">destsub</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?A. \&lt;Down&gt; &psi; = {\&lt;surd&gt;&psi;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?C. \&lt;Down&gt; &psi; = {\&lt;surd&gt;&psi;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?F. \&lt;Down&gt; &psi; = {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?H. \&lt;Down&gt; &psi; = {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;)&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                   <span class="ident">evil_pBBI_def</span><span class="keyword">)</span><span class="keyword">+</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">with</span> <span class="ident">destsub</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?A. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?C. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?F. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?H. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">ACFHsub</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?B. \&lt;surd&gt;&psi; &isin; ?A&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?D. \&lt;surd&gt;&psi; &isin; ?C&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                   <span class="ident">evil_pBBI_def</span><span class="keyword">)</span><span class="keyword">+</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">with</span> <span class="ident">ACFHsub</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
            <span class="string">&quot;&forall;&psi;&isin;?B. {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?D. {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">note</span> <span class="ident">destsub</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?B. \&lt;Down&gt; &psi; = {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?D. \&lt;Down&gt; &psi; = {\&lt;surd&gt;&psi;, &perp;} &cup; \&lt;Down&gt; (\&lt;surd&gt;&psi;)&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                   <span class="ident">evil_pBBI_def</span><span class="keyword">)</span><span class="keyword">+</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">with</span> <span class="ident">destsub</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&forall;&psi;&isin;?B. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&forall;&psi;&isin;?D. \&lt;Down&gt; &psi; &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span">
            </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span><span class="keyword">+</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">reflI</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
           <span class="string">&quot;\&lt;Down&gt; ([+]&apos; X (\&lt;box&gt; X &phi;)) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span>
       <span class="keyword">and</span> <span class="string">&quot;\&lt;Down&gt; (&not; [+]&apos; X (\&lt;box&gt; X &phi;)) &sube; &Sigma; &Delta; (\&lt;box&gt; X &phi;)&quot;</span></span><span class="ignored_span"> 
           </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span><span class="keyword">+</span></span><span class="ignored_span">

       </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                           <span class="ident">evil_pBBI_def</span>
                                      <span class="ident">add</span><span class="keyword">:</span> <span class="ident">Ball_def</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_BB</span> <span class="ident">X</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_FL_subform_refl</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_BBI</span> <span class="ident">X</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_FL_subform_refl</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">show</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_BB_to_pBB</span><span class="keyword">:</span> <span class="string">&quot;&forall; &psi; X.  [-] X &psi; &isin; &Sigma; &Delta; &phi; 
                              --&gt;  [-]&apos; X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span><span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">case</span> <span class="ident">E_P</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Bot</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_PP</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Imp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_B</span> <span class="ident">Y</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">note</span> <span class="ident">ih</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">&psi;</span><span class="keyword">;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">X</span><span class="keyword">;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="ident">mem</span><span class="keyword">:</span> <span class="string">&quot;[-] X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">let</span> <span class="var">?A</span> <span class="keyword">=</span> <span class="string">&quot;{\&lt;box&gt; X ([-]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span> 
       <span class="keyword">and</span> <span class="var">?B</span> <span class="keyword">=</span> <span class="string">&quot;{&not; \&lt;box&gt; X ([-]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?C</span> <span class="keyword">=</span> <span class="string">&quot;{\&lt;box&gt; X ([+]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>                         
       <span class="keyword">and</span> <span class="var">?D</span> <span class="keyword">=</span> <span class="string">&quot;{&not; \&lt;box&gt; X ([+]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?F</span> <span class="keyword">=</span> <span class="string">&quot;{&not; [-]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?G</span> <span class="keyword">=</span> <span class="string">&quot;{[+]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?H</span> <span class="keyword">=</span> <span class="string">&quot;{&not; [+]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-] X &psi; &notin; ?A&quot;</span> 
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &notin; ?B&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &notin; ?C&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &notin; ?D&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &notin; ?F&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &notin; ?G&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &notin; ?H&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; (\&lt;box&gt; Y &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; (&not; \&lt;box&gt; Y &phi;)&quot;</span> 
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; ([+]&apos; Y (\&lt;box&gt; Y &phi;))&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; (&not; [+]&apos; Y (\&lt;box&gt; Y &phi;))&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; &perp;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; (&not; &perp;)&quot;</span></span><span class="ignored_span">
          </span><span class="command_span"><span class="command">by</span> <span class="ident">auto</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">mem</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">have</span>  <span class="ident">tri1</span><span class="keyword">:</span>
             <span class="string">&quot;[-] X &psi; = &phi; &or; 
              [-] X &psi; &isin; {[-]&apos; Z &phi; | Z. Z &isin; &Delta;} &or;
              [-] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                         <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-] X &psi; &isin; {[-]&apos; Z &phi; | Z. Z &isin; &Delta;}
             ==&gt; [-] X &psi; = &phi; &or; [-] X &psi; = [-]&apos; X &psi;&quot;</span></span><span class="ignored_span"> 
         </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">tri1</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="ident">tri2</span><span class="keyword">:</span>
           <span class="string">&quot;[-] X &psi; = &phi; &or; 
            [-] X &psi; = [-]&apos; X &psi; &or;
            [-] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_FL_refl</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Delta;</span><span class="keyword">=</span><span class="string">&quot;&Delta;&quot;</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-] X &psi; = &phi; ==&gt; [-] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span"> 
         </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">tri2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
           <span class="string">&quot;[-] X &psi; = [-]&apos; X &psi; &or;
            [-] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">ih</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="ident">bi</span><span class="keyword">:</span> <span class="string">&quot;[-] X &psi; = [-]&apos; X &psi; &or; [-]&apos; X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span">
         </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">from</span> <span class="ident">mem</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-] X &psi; = [-]&apos; X &psi; ==&gt; [-]&apos; X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span">
         </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">bi</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-]&apos; X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_BB</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_BBI</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_BBI_to_pBBI</span><span class="keyword">:</span> <span class="string">&quot;&forall; &psi; X.  [+] X &psi; &isin; &Sigma; &Delta; &phi; 
                              --&gt;  [+]&apos; X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span><span class="keyword">(</span><span class="ident">induct</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">case</span> <span class="ident">E_P</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Bot</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_PP</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_Imp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="keyword">(</span><span class="ident">E_B</span> <span class="ident">Y</span> <span class="ident">&phi;</span><span class="keyword">)</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">note</span> <span class="ident">ih</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">&psi;</span><span class="keyword">;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">X</span><span class="keyword">;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="ident">mem</span><span class="keyword">:</span> <span class="string">&quot;[+] X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">let</span> <span class="var">?A</span> <span class="keyword">=</span> <span class="string">&quot;{\&lt;box&gt; X ([-]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span> 
       <span class="keyword">and</span> <span class="var">?B</span> <span class="keyword">=</span> <span class="string">&quot;{&not; \&lt;box&gt; X ([-]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?C</span> <span class="keyword">=</span> <span class="string">&quot;{\&lt;box&gt; X ([+]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>                         
       <span class="keyword">and</span> <span class="var">?D</span> <span class="keyword">=</span> <span class="string">&quot;{&not; \&lt;box&gt; X ([+]&apos; Y &phi;) |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?E</span> <span class="keyword">=</span> <span class="string">&quot;{[-]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?F</span> <span class="keyword">=</span> <span class="string">&quot;{&not; [-]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span>
       <span class="keyword">and</span> <span class="var">?H</span> <span class="keyword">=</span> <span class="string">&quot;{&not; [+]&apos; Y &phi; |Y. Y &isin; &Delta;}&quot;</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+] X &psi; &notin; ?A&quot;</span> 
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &notin; ?B&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &notin; ?C&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &notin; ?D&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &notin; ?E&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &notin; ?F&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &notin; ?H&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &ne; (\&lt;box&gt; Y &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &ne; (&not; \&lt;box&gt; Y &phi;)&quot;</span> 
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; (&not; [+]&apos; Y (\&lt;box&gt; Y &phi;))&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; &perp;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &ne; (&not; &perp;)&quot;</span></span><span class="ignored_span">
          </span><span class="command_span"><span class="command">by</span> <span class="ident">auto</span><span class="keyword">+</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">mem</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">have</span> <span class="ident">quatro1</span><span class="keyword">:</span>
             <span class="string">&quot;[+] X &psi; = &phi; &or;
              [+] X &psi; = [+]&apos; Y (\&lt;box&gt; Y &phi;) &or;
              [+] X &psi; &isin; {[+]&apos; Z &phi; | Z. Z &isin; &Delta;} &or;
              [+] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                         <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+] X &psi; = [+]&apos; Y (\&lt;box&gt; Y &phi;) 
             ==&gt; [+] X &psi; = [+]&apos; X &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">quatro1</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="ident">quatro2</span><span class="keyword">:</span>
             <span class="string">&quot;[+] X &psi; = &phi; &or;
              [+] X &psi; = [+]&apos; X &psi; &or;
              [+] X &psi; &isin; {[+]&apos; Z &phi; | Z. Z &isin; &Delta;} &or;
              [+] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span">  </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+] X &psi; &isin; {[+]&apos; Z &phi; | Z. Z &isin; &Delta;}
             ==&gt; [+] X &psi; = &phi; &or; [+] X &psi; = [+]&apos; X &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">quatro2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="ident">tri</span><span class="keyword">:</span>
             <span class="string">&quot;[+] X &psi; = &phi; &or;
              [+] X &psi; = [+]&apos; X &psi; &or;
              [+] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span">  </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span"> 
       </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_FL_refl</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Delta;</span><span class="keyword">=</span><span class="string">&quot;&Delta;&quot;</span> <span class="keyword">and</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+] X &psi; = &phi; ==&gt; [+] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span"> 
         </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">tri</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
           <span class="string">&quot;[+] X &psi; = [+]&apos; X &psi; &or;
            [+] X &psi; &isin; &Sigma; &Delta; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">ih</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="ident">bi</span><span class="keyword">:</span> <span class="string">&quot;[+] X &psi; = [+]&apos; X &psi; &or; [+]&apos; X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span">
         </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">from</span> <span class="ident">mem</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+] X &psi; = [+]&apos; X &psi; ==&gt; [+]&apos; X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span">
         </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">fastsimp</span> <span class="ident">simp</span> <span class="ident">del</span><span class="keyword">:</span> <span class="ident">evil_pBB_def</span>
                                <span class="ident">evil_pBBI_def</span><span class="keyword">)</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">with</span> <span class="ident">bi</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+]&apos; X &psi; &isin; &Sigma; &Delta; (\&lt;box&gt; Y &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_BB</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">next</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">case</span> <span class="ident">E_BBI</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">thus</span> <span class="var">?case</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span> <span class="verbatim">{* With all of the above out of our way, we are ready to provide
        the subformula canonical model for a given formula @{term &quot;&phi;&quot;}.
        However, note that this model will only be @{text &quot;partly_evil&quot;}.
        We shall help ourself to the @{text &quot;&ang;&quot;} symbol for this construction;
        as far as we can tell from the literature, the meaning of @{text &quot;&ang;&quot;} 
        appears to have been forgotten by logicians as it is never employed. *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">notation</span>
<span class="ident">evil_ClassAx.Atoms</span> <span class="keyword">(</span><span class="string">"Atoms"</span><span class="keyword">)</span> <span class="keyword">and</span>
<span class="ident">evil_ClassAx.lift_imp</span> <span class="keyword">(</span><span class="keyword">infix</span> <span class="string">&quot;:-&gt;&quot;</span> <span class="ident">24</span><span class="keyword">)</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">definition</span> <span class="ident">pevil_canonical_model</span> <span class="keyword">::</span>
  <span class="string">&quot;(&apos;a,&apos;b) evil_form
   =&gt; ((&apos;a,&apos;b) evil_form set,&apos;a,&apos;b) evil_kripke&quot;</span> <span class="keyword">(</span><span class="string">&quot;&ang;&quot;</span><span class="keyword">)</span>
<span class="keyword">where</span>
<span class="string">&quot;&ang; &phi; &equiv; 
  (| W = Atoms (&Sigma; (&delta; &phi;) &phi;),
    V = (&lambda; w p. (P# p) &isin; w),
    PP = (&lambda; X. {w.(\&lt;odot&gt; X) &isin; w}),
    RB = (&lambda; X. 
           {(w,v). {w,v} &sube; Atoms (&Sigma; (&delta; &phi;) &phi;) &and;
                   {&psi;. (\&lt;box&gt; X &psi;) &isin; w} &sube; v}),

    RBB = (&lambda; X. 
           {(w,v). {w,v} &sube; Atoms (&Sigma; (&delta; &phi;) &phi;) &and;
                   {&psi;. ([-]&apos; X &psi;) &isin; w} &sube; v &and;
                   {([-]&apos; X &psi;) | &psi;. ([-]&apos; X &psi;) &isin; w} &sube; v &and;
                   {&psi;. ([+]&apos; X &psi;) &isin; v} &sube; w &and;
                   {([+]&apos; X &psi;) | &psi;. ([+]&apos; X &psi;) &isin; v} &sube; w}),
    RBBI = (&lambda; X. 
            {(w,v). {w,v} &sube; Atoms (&Sigma; (&delta; &phi;) &phi;) &and;
                    {&psi;. ([+]&apos; X &psi;) &isin; w} &sube; v &and;
                    {([+]&apos; X &psi;) | &psi;. ([-]&apos; X &psi;) &isin; w} &sube; v &and;
                    {&psi;. ([-]&apos; X &psi;) &isin; v} &sube; w &and;
                    {([-]&apos; X &psi;) | &psi;. ([-]&apos; X &psi;) &isin; v} &sube; w})
  |)),&quot;</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">declare</span> <span class="ident">pevil_canonical_model_def</span> <span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span> <span class="verbatim">{* To prove the truth lemma for @{term &quot;&ang; &phi;&quot;}
 we shall prove the inductive steps for the boxes seperately.

 However, we first prove a variety of lemmas regarding basic
 propertiers of atoms. *}</span>

<span class="keyword">--</span><span class="string">"I will admit that my ealier formulation of Atoms is awkward"</span>
<span class="keyword">--</span><span class="string">"This new lemma declares a simplification I will want"</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Atoms_simp</span><span class="keyword">[</span><span class="ident">simp</span><span class="keyword">]</span><span class="keyword">:</span>
   <span class="string">&quot;(&Gamma; &isin; Atoms &Phi;) &equiv;  
     (&Gamma; &sube; &Phi; &and;
     (&forall;&phi;&isin;&Phi;. &phi; &isin; &Gamma; &or; (&sim; &phi;) &isin; &Gamma;) &and;
     ~ (list &Gamma; :\&lt;turnstile&gt; &perp;))&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">evil_ClassAx.Atoms_def</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">&quot;&Gamma;&quot;</span> <span class="keyword">and</span> <span class="ident">&Phi;</span><span class="keyword">=</span><span class="string">&quot;&Phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">by</span><span class="keyword">(</span><span class="ident">unfold</span> <span class="ident">mem_def</span><span class="keyword">,</span> <span class="ident">auto</span><span class="keyword">)</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">declare</span> <span class="ident">evil_pBB_def</span> <span class="keyword">[</span><span class="ident">simp</span> <span class="ident">del</span><span class="keyword">]</span> 
    <span class="keyword">and</span> <span class="ident">evil_pBBI_def</span> <span class="keyword">[</span><span class="ident">simp</span> <span class="ident">del</span><span class="keyword">]</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">text</span> <span class="verbatim">{* Apparently we have to prove several lemmas
  relating to Atoms in order to be able to proceed. *}</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_mem_prv</span><span class="keyword">:</span>
     <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
         <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
         <span class="keyword">and</span> <span class="string">&quot;&phi; &isin; &Gamma;&quot;</span>
       <span class="keyword">shows</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span> <span class="ident">finite_subset</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
        <span class="string">&quot;finite &Gamma;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">&quot;&Gamma;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;set (list &Gamma;) = &Gamma;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span"> 
   </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&phi; &isin; set (list &Gamma;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift_elm</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_mem_prv2</span><span class="keyword">:</span>
     <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
         <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
         <span class="keyword">and</span> <span class="string">&quot;&phi; &isin; &Phi;&quot;</span>
         <span class="keyword">and</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &phi;&quot;</span>
       <span class="keyword">shows</span> <span class="string">&quot;&phi; &isin; &Gamma;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span> <span class="ident">finite_subset</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
        <span class="string">&quot;finite &Gamma;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">&quot;&Gamma;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="ident">eq1</span><span class="keyword">:</span> <span class="string">&quot;set (list &Gamma;) = &Gamma;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span>
   <span class="keyword">--</span><span class="string">"Now proceed by reductio"</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;&phi; &notin; &Gamma;&quot;</span></span><span class="ignored_span"> 
     </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(&sim; &phi;) &isin; &Gamma;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">eq1</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(&sim; &phi;) &isin; set (list &Gamma;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift_elm</span></span><span class="ignored_span"> 
     </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &sim; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_pneg_eq</span>
                  <span class="ident">evil_eq_weaken</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; (&sim; &phi;) -&gt; &not; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
        <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; (&sim; &phi;) -&gt; &not; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_ClassAx.lift_mp</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">&quot;list &Gamma;&quot;</span><span class="keyword">]</span> 
                   <span class="ident">assms</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &perp;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">"False"</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_pneg_nded</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;~(list &Gamma; :\&lt;turnstile&gt; &sim; &phi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span>
  <span class="keyword">--</span><span class="string">"By reductio ad absurdem"</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &sim; &phi;&quot;</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_pneg_eq</span>
                  <span class="ident">evil_eq_weaken</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; (&sim; &phi;) -&gt; &not; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
      <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; (&sim; &phi;) -&gt; &not; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_ClassAx.lift_mp</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &not; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift_mp</span> <span class="ident">assms</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">"False"</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">thus</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Atom_mem_intro</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&phi; &isin; &Gamma;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&psi; &isin; &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &phi; -&gt; &psi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;&psi; &isin; &Gamma;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span> <span class="ident">evil_mem_prv</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span> <span class="ident">evil_ClassAx.lift_mp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="ident">&psi;</span><span class="keyword">:</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;(&sim; &psi;) &isin; &Gamma;&quot;</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span> <span class="ident">evil_mem_prv</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; &sim; &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span> <span class="ident">evil_pneg_nded</span> <span class="ident">&psi;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">"False"</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Atom_pBB_intro</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &phi; &isin; &Gamma;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-]&apos; X &phi; &isin; &Phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;[-]&apos; X &phi; &isin; &Gamma;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
         <span class="ident">evil_eq_weaken</span> <span class="ident">evil_eq_symm</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [-] X &phi; -&gt; [-]&apos; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; [-] X &phi; -&gt; [-]&apos; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_Atom_mem_intro</span> <span class="ident">assms</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Atom_BB_intro</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-]&apos; X &phi; &isin; &Gamma;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &phi; &isin; &Phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;[-] X &phi; &isin; &Gamma;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BB_pBB_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
         <span class="ident">evil_eq_weaken</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [-]&apos; X &phi; -&gt; [-] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; [-]&apos; X &phi; -&gt; [-] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_Atom_mem_intro</span> <span class="ident">assms</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Atom_pBBI_intro</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &phi; &isin; &Gamma;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+]&apos; X &phi; &isin; &Phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;[+]&apos; X &phi; &isin; &Gamma;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
         <span class="ident">evil_eq_weaken</span> <span class="ident">evil_eq_symm</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [+] X &phi; -&gt; [+]&apos; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; [+] X &phi; -&gt; [+]&apos; X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_Atom_mem_intro</span> <span class="ident">assms</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_Atom_BBI_intro</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;finite &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&Gamma; &isin; Atoms &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+]&apos; X &phi; &isin; &Gamma;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &phi; &isin; &Phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;[+] X &phi; &isin; &Gamma;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_BBI_pBBI_eq</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span>
         <span class="ident">evil_eq_weaken</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;turnstile&gt; [+]&apos; X &phi; -&gt; [+] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Gamma; :\&lt;turnstile&gt; [+]&apos; X &phi; -&gt; [+] X &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_Atom_mem_intro</span> <span class="ident">assms</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span>

<span class="keyword">--</span><span class="string">"We now relativize these lemmas to our model we are creating"</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_mem_prv</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
      <span class="keyword">and</span> <span class="string">&quot;&psi; &isin; &Phi;&quot;</span>
    <span class="keyword">shows</span> <span class="string">&quot;list &Phi; :\&lt;turnstile&gt; &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">assms</span> <span class="ident">evil_mem_prv</span></span><span class="ignored_span"> 
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">thm</span> <span class="ident">evil_mem_prv2</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_mem_prv2</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
      <span class="keyword">and</span> <span class="string">&quot;&psi; &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span>
      <span class="keyword">and</span> <span class="string">&quot;list &Phi; :\&lt;turnstile&gt; &psi;&quot;</span>
    <span class="keyword">shows</span> <span class="string">&quot;&psi; &isin; &Phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">assms</span> <span class="ident">evil_mem_prv2</span></span><span class="ignored_span"> 
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_pneg_nded</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
      <span class="keyword">and</span> <span class="string">&quot;list &Phi; :\&lt;turnstile&gt; &psi;&quot;</span>
    <span class="keyword">shows</span> <span class="string">&quot;~ (list &Phi; :\&lt;turnstile&gt; &sim; &psi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">assms</span> <span class="ident">evil_pneg_nded</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_mem_intro</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&psi; &isin; &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;&chi; &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;list &Phi; :\&lt;turnstile&gt; &psi; -&gt; &chi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;&chi; &isin; &Phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_Atom_mem_intro</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_pBB_intro</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &isin; &Phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;[-]&apos; X &psi; &isin; &Phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">this</span> <span class="ident">assms</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-] X &psi; &isin; (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_FL_BB_to_pBB</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-]&apos; X &psi; &isin; (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_Atom_pBB_intro</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span> 
                <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_BB_intro</span><span class="keyword">:</span>
    <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-]&apos; X &psi; &isin; &Phi;&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[-] X &psi; &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;[-] X &psi; &isin; &Phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_Atom_BB_intro</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span> 
                <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_FL_pBBI_intro</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
        <span class="keyword">and</span> <span class="string">&quot;[+] X &psi; &isin; &Phi;&quot;</span>
      <span class="keyword">shows</span> <span class="string">&quot;[+]&apos; X &psi; &isin; &Phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">this</span> <span class="ident">assms</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+] X &psi; &isin; (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_FL_BBI_to_pBBI</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+]&apos; X &psi; &isin; (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_Atom_pBBI_intro</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span> 
                <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_push</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">"finite A"</span>
      <span class="keyword">and</span> <span class="string">&quot;list ({&psi;} &cup; A) :\&lt;turnstile&gt; &phi;&quot;</span>
    <span class="keyword">shows</span> <span class="string">&quot;list A :\&lt;turnstile&gt; &psi; -&gt; &phi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite ({&psi;} &cup; A)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">&quot;{&psi;} &cup; A&quot;</span><span class="keyword">]</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
    <span class="ident">eq1</span><span class="keyword">:</span> <span class="string">&quot;set (list ({&psi;} &cup; A)) = {&psi;} &cup; A&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">..</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span> <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">"A"</span><span class="keyword">]</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">"set (list A) = A"</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">hence</span> <span class="ident">eq2</span><span class="keyword">:</span> <span class="string">&quot;set (&psi; # (list A)) = {&psi;} &cup; A&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">eq1</span> <span class="ident">eq2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
  <span class="string">&quot;set (list ({&psi;} &cup; A)) = set (&psi; # (list A))&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span> <span class="ident">evil_ClassAx.lift_eq</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span>
    <span class="string">&quot;&psi; # (list A) :\&lt;turnstile&gt; &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.undisch</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span"> 
  
</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_push_dneg</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">"finite A"</span>
      <span class="keyword">and</span> <span class="string">&quot;list ({&sim; &psi;} &cup; A) :\&lt;turnstile&gt; &perp;&quot;</span>
    <span class="keyword">shows</span> <span class="string">&quot;list A :\&lt;turnstile&gt; &psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span> <span class="ident">evil_push</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list A :\&lt;turnstile&gt; &not; &sim; &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">from</span> <span class="ident">evil_pdneg_eq</span> 
         <span class="ident">evil_eq_weaken</span>
         <span class="ident">evil_ClassAx.lift</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">"list A"</span><span class="keyword">]</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list A :\&lt;turnstile&gt; &not; &sim; &psi; -&gt; &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">evil_ClassAx.lift_mp</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">map_to_comp</span><span class="keyword">:</span>
   <span class="keyword">assumes</span> <span class="string">"set L = S"</span>
   <span class="keyword">shows</span> <span class="string">&quot;set (map f L) = {f x | x. x &isin; S}&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">L</span><span class="keyword">,</span><span class="ident">fastsimp</span><span class="keyword">+</span><span class="keyword">)</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">image_of_comp</span><span class="keyword">:</span>
  <span class="string">&quot;f ` {g &chi; | &chi; . P(&chi;)} = {f (g &chi;) | &chi; . P(&chi;)}&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_unions_to_appends</span><span class="keyword">:</span>
  <span class="keyword">assumes</span> <span class="string">"finite A"</span>
      <span class="keyword">and</span> <span class="string">"finite B"</span>
    <span class="keyword">shows</span> <span class="string">&quot;(list (A &cup; B) @ &Delta; :\&lt;turnstile&gt; &psi;)
         = (list A @ list B @ &Delta; :\&lt;turnstile&gt; &psi;)&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">let</span> <span class="var">?ASM1</span> <span class="keyword">=</span> <span class="string">&quot;list (A &cup; B) @ &Delta;&quot;</span>
   <span class="keyword">and</span> <span class="var">?ASM2</span> <span class="keyword">=</span> <span class="string">&quot;list A @ list B @ &Delta;&quot;</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;finite (A &cup; B)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">"A"</span><span class="keyword">]</span>
        <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">"B"</span><span class="keyword">]</span>
        <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">&quot;A &cup; B&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">have</span> <span class="ident">A</span><span class="keyword">:</span> <span class="string">"set (list A) = A"</span>
    <span class="keyword">and</span> <span class="ident">B</span><span class="keyword">:</span> <span class="string">"set (list B) = B"</span>
    <span class="keyword">and</span> <span class="ident">AuB</span><span class="keyword">:</span> <span class="string">&quot;set (list (A &cup; B)) = A &cup; B&quot;</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span><span class="keyword">+</span></span><span class="ignored_span"> 
   </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">A</span> <span class="ident">B</span><span class="keyword">;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;set (A @ B) = set A &cup; set B&quot;</span></span><span class="ignored_span">
         </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">induct</span> <span class="ident">A</span><span class="keyword">,</span> <span class="ident">fastsimp</span><span class="keyword">+</span><span class="keyword">)</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">note</span> <span class="ident">union</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">AuB</span> <span class="ident">union</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
   <span class="ident">eq1</span><span class="keyword">:</span> <span class="string">&quot;set(?ASM1) = A &cup; B &cup; set &Delta;&quot;</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">A</span> <span class="ident">B</span> <span class="ident">union</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> 
   <span class="ident">eq2</span><span class="keyword">:</span> <span class="string">&quot;set(?ASM2) = A &cup; B &cup; set &Delta;&quot;</span></span><span class="ignored_span">
      </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">from</span> <span class="ident">eq1</span> <span class="ident">eq2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">"set ?ASM1 = set ?ASM2"</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
   </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_ClassAx.lift_eq</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span>

<span class="keyword">--</span><span class="string">"With these lemmas behind us, we may proceed forward (literally)!"</span>
<span class="keyword">--</span><span class="string">"We shall prove the foward direction for each box"</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_B_forward</span><span class="keyword">:</span>
      <span class="keyword">assumes</span> <span class="ident">H1</span><span class="keyword">:</span> <span class="string">&quot;\&lt;box&gt; X &psi; &isin; &Phi;&quot;</span>
          <span class="keyword">and</span> <span class="ident">H2</span><span class="keyword">:</span> <span class="string">&quot;(&Phi;,&Psi;) &isin; RB(&ang; &phi;) X&quot;</span>
          <span class="keyword">shows</span> <span class="string">&quot;&psi; &isin; &Psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_BB_forward</span><span class="keyword">:</span>
      <span class="keyword">assumes</span> <span class="ident">H1</span><span class="keyword">:</span> <span class="string">&quot;[-] X &psi; &isin; &Phi;&quot;</span>
          <span class="keyword">and</span> <span class="ident">H2</span><span class="keyword">:</span> <span class="string">&quot;(&Phi;,&Psi;) &isin; RBB(&ang; &phi;) X&quot;</span>
          <span class="keyword">shows</span> <span class="string">&quot;&psi; &isin; &Psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">H2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">H1</span> <span class="ident">evil_FL_pBB_intro</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[-]&apos; X &psi; &isin; &Phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">H2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_BBI_forward</span><span class="keyword">:</span>
      <span class="keyword">assumes</span> <span class="ident">H1</span><span class="keyword">:</span> <span class="string">&quot;[+] X &psi; &isin; &Phi;&quot;</span>
          <span class="keyword">and</span> <span class="ident">H2</span><span class="keyword">:</span> <span class="string">&quot;(&Phi;,&Psi;) &isin; RBBI(&ang; &phi;) X&quot;</span>
          <span class="keyword">shows</span> <span class="string">&quot;&psi; &isin; &Psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">H2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">H1</span> <span class="ident">evil_FL_pBBI_intro</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;[+]&apos; X &psi; &isin; &Phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">H2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span>

<span class="keyword">--</span><span class="string">"With the forward directions out the way, we move backward"</span>
<span class="keyword">--</span><span class="string">"These are all non-trivial lemmas"</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">lemma</span> <span class="ident">evil_B_back</span><span class="keyword">:</span>
      <span class="keyword">assumes</span> <span class="string">&quot;&Phi; &isin; W(&ang; &phi;)&quot;</span>
          <span class="keyword">and</span> <span class="string">&quot;\&lt;box&gt; X &psi; &notin; &Phi;&quot;</span>
          <span class="keyword">and</span> <span class="string">&quot;\&lt;box&gt; X &psi; &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span>
          <span class="keyword">shows</span> <span class="string">&quot;&exist; &Psi;. (&Phi;,&Psi;) &isin; RB(&ang; &phi;) X &and; (&sim; &psi;) &isin; &Psi;&quot;</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">using</span> <span class="ident">assms</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">proof</span> <span class="ident">-</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">let</span> <span class="var">?s1</span> <span class="keyword">=</span> <span class="string">&quot;{&chi; | &chi;. \&lt;box&gt; X &chi; &isin; &Phi;}&quot;</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">let</span> <span class="var">?s2</span> <span class="keyword">=</span> <span class="string">&quot;{\&lt;box&gt; X &chi; | &chi;. \&lt;box&gt; X &chi; &isin; &Phi;}&quot;</span>

  <span class="keyword">--</span><span class="string">"We have a bunch of facts to establish"</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">finite_dudes</span> <span class="ident">finite_evil_FL</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="ident">fin_&Sigma;&delta;&phi;&phi;</span><span class="keyword">:</span> <span class="string">&quot;finite (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="ident">&Phi;_atom</span><span class="keyword">:</span> <span class="string">&quot;&Phi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">note</span> <span class="ident">finite_subset</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="ident">fin_&Phi;</span><span class="keyword">:</span> <span class="string">&quot;finite &Phi;&quot;</span> 
              <span class="keyword">and</span> <span class="ident">s2_sub</span><span class="keyword">:</span> <span class="string">&quot;?s2 &sube; &Phi;&quot;</span></span><span class="ignored_span"> 
               </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span><span class="keyword">+</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">finite_subset</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="ident">fin_s2</span><span class="keyword">:</span> <span class="string">"finite ?s2"</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;finite (\&lt;surd&gt; ` ?s2)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">simp</span></span><span class="ignored_span"> 
  </span><span class="command_span"><span class="command">with</span> <span class="ident">image_of_comp</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">g</span><span class="keyword">=</span><span class="string">&quot;&lambda; x. \&lt;box&gt; X x&quot;</span>
                        <span class="keyword">and</span> <span class="ident">P</span><span class="keyword">=</span><span class="string">&quot;&lambda; x. \&lt;box&gt; X x &isin; &Phi;&quot;</span>
                        <span class="keyword">and</span> <span class="ident">f</span><span class="keyword">=</span><span class="string">&quot;\&lt;surd&gt;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="ident">fin_s1</span><span class="keyword">:</span> <span class="string">"finite ?s1"</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">fin_s1</span> <span class="ident">fin_s2</span> <span class="ident">fin_&Phi;</span>
                   <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">"?s1"</span><span class="keyword">]</span>
                   <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">"?s2"</span><span class="keyword">]</span>
                   <span class="ident">set_list</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">A</span><span class="keyword">=</span><span class="string">&quot;&Phi;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="ident">eq1</span><span class="keyword">:</span> <span class="string">"set (list ?s1) = ?s1"</span> 
   <span class="keyword">and</span> <span class="ident">eq2</span><span class="keyword">:</span> <span class="string">"set (list ?s2) = ?s2"</span> 
   <span class="keyword">and</span> <span class="ident">eq3</span><span class="keyword">:</span> <span class="string">&quot;set (list &Phi;) = &Phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span><span class="keyword">+</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">eq1</span> <span class="ident">eq2</span> <span class="ident">map_to_comp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">have</span> <span class="ident">eq4</span><span class="keyword">:</span>
    <span class="string">&quot;set (map (&lambda; &phi;. \&lt;box&gt; X &phi;) (list ?s1)) = set (list ?s2)&quot;</span></span><span class="ignored_span"> 
        </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">from</span> <span class="ident">s2_sub</span> <span class="ident">eq2</span> <span class="ident">eq3</span></span><span class="ignored_span"> 
  </span><span class="command_span"><span class="command">have</span> <span class="ident">s2_sub2</span><span class="keyword">:</span> <span class="string">&quot;set (list ?s2) &sube; set (list &Phi;)&quot;</span></span><span class="ignored_span">
        </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span>

  <span class="keyword">--</span><span class="string">"Now reductio ad absurdem..."</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;list ({&sim; &psi;} &cup; ?s1) :\&lt;turnstile&gt; &perp;&quot;</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">fin_s1</span> <span class="ident">evil_push_dneg</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list ?s1 :\&lt;turnstile&gt; &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_B_lift_map</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">X</span><span class="keyword">=</span><span class="string">"X"</span><span class="keyword">]</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(map (&lambda; &phi;. \&lt;box&gt; X &phi;) (list ?s1)) :\&lt;turnstile&gt; \&lt;box&gt; X &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">eq4</span>
      <span class="ident">evil_ClassAx.lift_eq</span> 
         <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">&quot;map (&lambda; &phi;. \&lt;box&gt; X &phi;) (list ?s1)&quot;</span>
            <span class="keyword">and</span> <span class="ident">&Psi;</span><span class="keyword">=</span><span class="string">"list ?s2"</span><span class="keyword">]</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list ?s2 :\&lt;turnstile&gt; \&lt;box&gt; X &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">s2_sub2</span> <span class="ident">evil_ClassAx.lift_mono</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;list &Phi; :\&lt;turnstile&gt; \&lt;box&gt; X &psi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">with</span> <span class="ident">assms</span> <span class="ident">evil_FL_mem_prv2</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">"False"</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;~(list ({&sim; &psi;} &cup; ?s1) :\&lt;turnstile&gt; &perp;)&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">note</span> <span class="ident">con</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">

  </span><span class="command_span"><span class="command">{</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">fix</span> <span class="ident">&chi;</span><span class="keyword">;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">assume</span> <span class="string">&quot;(\&lt;box&gt; X &chi;) &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">with</span> <span class="ident">evil_FL_subforms</span></span><span class="ignored_span"> 
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;\&lt;Down&gt; (\&lt;box&gt; X &chi;) &sube;  &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span">
       </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">hence</span> <span class="string">&quot;&chi; &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">}</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">note</span> <span class="ident">mem</span> <span class="keyword">=</span> <span class="ident">this</span></span><span class="ignored_span">

  </span><span class="command_span"><span class="command">from</span> <span class="ident">assms</span> <span class="ident">mem</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;&psi; &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">pneg_evil_FL</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(&sim; &psi;) &isin; &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">moreover</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">with</span> <span class="ident">s2_sub</span> <span class="ident">&Phi;_atom</span></span><span class="ignored_span">
    </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;?s2 &sube; &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">mem</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;?s1 &sube; &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">ultimately</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;{&sim; &psi;} &cup; ?s1 &sube; &Sigma; (&delta; &phi;) &phi;&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fast</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">fin_&Sigma;&delta;&phi;&phi;</span> <span class="ident">con</span>
       <span class="ident">pneg_evil_FL</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&phi;</span><span class="keyword">=</span><span class="string">&quot;&phi;&quot;</span> <span class="keyword">and</span> <span class="ident">&Delta;</span><span class="keyword">=</span><span class="string">&quot;&delta; &phi;&quot;</span><span class="keyword">]</span>
       <span class="ident">evil_ClassAx.little_lindy</span> <span class="keyword">[</span><span class="keyword">where</span> <span class="ident">&Phi;</span><span class="keyword">=</span><span class="string">&quot;&Sigma; (&delta; &phi;) &phi;&quot;</span>
                                    <span class="keyword">and</span> <span class="ident">&Gamma;</span><span class="keyword">=</span><span class="string">&quot;{&sim; &psi;} &cup; ?s1&quot;</span>
                                    <span class="keyword">and</span> <span class="ident">&psi;</span><span class="keyword">=</span><span class="string">&quot;&perp;&quot;</span><span class="keyword">]</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">obtain</span> <span class="ident">&Psi;</span> <span class="keyword">where</span> <span class="ident">A</span><span class="keyword">:</span> <span class="string">&quot;&Psi; &isin; Atoms (&Sigma; (&delta; &phi;) &phi;)&quot;</span>
                <span class="keyword">and</span> <span class="ident">B</span><span class="keyword">:</span> <span class="string">&quot;{&sim; &psi;} &cup; ?s1 &sube; &Psi;&quot;</span></span><span class="ignored_span">
     </span><span class="command_span"><span class="command">by</span> <span class="keyword">(</span><span class="ident">simp</span> <span class="ident">add</span><span class="keyword">:</span> <span class="ident">mem_def</span><span class="keyword">,</span> <span class="ident">fast</span><span class="keyword">+</span><span class="keyword">)</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">&Phi;_atom</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">have</span> <span class="string">&quot;(&Phi;,&Psi;) &isin; RB(&ang; &phi;) X&quot;</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">fastsimp</span></span><span class="ignored_span">
  </span><span class="command_span"><span class="command">with</span> <span class="ident">B</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">show</span> <span class="var">?thesis</span></span><span class="ignored_span"> </span><span class="command_span"><span class="command">by</span> <span class="ident">blast</span></span><span class="ignored_span">
</span><span class="command_span"><span class="command">qed</span></span><span class="ignored_span">

</span><span class="command_span"><span class="command">end</span></span></pre>
<hr/>

</div>
</body>
</html>
